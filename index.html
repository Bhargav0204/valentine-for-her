<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Be My Valentine? ğŸ’•</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&amp;family=Dancing+Script:wght@500;700&amp;display=swap" rel="stylesheet">
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    .font-script {
      font-family: 'Dancing Script', cursive;
    }
    
    .font-serif {
      font-family: 'Playfair Display', Georgia, serif;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    @keyframes pulse-heart {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 0; transform: scale(0); }
      50% { opacity: 1; transform: scale(1); }
    }
    
    @keyframes confetti-fall {
      0% { transform: translateY(-100%) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
    
    .floating-heart {
      animation: float 3s ease-in-out infinite;
    }
    
    .pulse-heart {
      animation: pulse-heart 1.5s ease-in-out infinite;
    }
    
    .photo-frame {
      background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
      border: 4px solid #ec407a;
      box-shadow: 0 10px 30px rgba(236, 64, 122, 0.3);
    }
    
    .no-btn {
      position: fixed;
      transition: none;
      pointer-events: auto;
    }
    
    .yes-btn {
      position: relative;
      transition: all 0.3s ease;
    }
    
    .yes-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 10px 40px rgba(236, 64, 122, 0.5);
    }
    
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      top: -10px;
      animation: confetti-fall 3s linear forwards;
    }

    .photo-background {
      position: fixed;
      inset: 0;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(2, 1fr);
      gap: 0;
      opacity: 0.3;
      z-index: 0;
      pointer-events: none;
    }

    .photo-bg-item {
      background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
    }

    .success-content {
      position: relative;
      z-index: 10;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full font-serif">
  <div id="main-container" class="min-h-full w-full overflow-auto relative" style="background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 50%, #f48fb1 100%);"><!-- Floating Hearts Background -->
   <div class="fixed inset-0 pointer-events-none overflow-hidden">
    <div class="floating-heart absolute text-6xl" style="left: 5%; top: 10%; animation-delay: 0s;">
     ğŸ’•
    </div>
    <div class="floating-heart absolute text-4xl" style="left: 15%; top: 60%; animation-delay: 0.5s;">
     ğŸ’—
    </div>
    <div class="floating-heart absolute text-5xl" style="left: 85%; top: 20%; animation-delay: 1s;">
     ğŸ’–
    </div>
    <div class="floating-heart absolute text-3xl" style="left: 90%; top: 70%; animation-delay: 1.5s;">
     ğŸ’
    </div>
    <div class="floating-heart absolute text-4xl" style="left: 50%; top: 5%; animation-delay: 2s;">
     ğŸ’˜
    </div>
   </div><!-- Main Content -->
   <div id="proposal-screen" class="relative z-10 px-4 py-8"><!-- Header -->
    <div class="text-center mb-8">
     <h2 id="partner-name" class="font-script text-3xl md:text-4xl text-pink-600 mb-2">My Dearest Love</h2>
     <div class="pulse-heart text-6xl">
      ğŸ’•
     </div>
    </div><!-- Love Message -->
    <div class="text-center mb-8 px-4">
     <p id="love-message" class="text-pink-700 text-lg md:text-xl max-w-2xl mx-auto leading-relaxed">Every moment with you feels like a beautiful dream. You make my heart skip a beat and my world complete. ğŸ’•</p>
    </div><!-- The Big Question -->
    <div class="text-center mb-12">
     <h1 id="main-question" class="font-script text-4xl md:text-6xl lg:text-7xl text-pink-600 mb-8 drop-shadow-lg">Will You Be My Valentine? ğŸ’</h1>
    </div><!-- Buttons Container -->
    <div class="flex justify-center gap-8 mb-8 px-4 relative z-20" style="min-height: 80px;"><button id="yes-btn" class="yes-btn bg-gradient-to-r from-pink-500 to-rose-500 text-white font-bold text-xl md:text-2xl px-10 py-4 rounded-full shadow-xl hover:from-pink-600 hover:to-rose-600"> Yes! ğŸ’• </button> <button id="no-btn" class="no-btn bg-gray-400 text-white font-bold text-lg px-6 py-3 rounded-full shadow-lg"> No ğŸ˜¢ </button>
    </div>
    <p id="chase-message" class="text-center text-pink-500 font-script text-lg opacity-0 transition-opacity duration-300">Hehe, you can't click No! ğŸ˜œğŸ’•</p>
   </div><!-- Success Screen (Hidden Initially) -->
   <div id="success-screen" class="hidden min-h-full w-full flex flex-col items-center justify-center px-4 py-8 relative"><!-- Photo Background Grid -->
    <div class="photo-background">
     <div class="photo-bg-item">
      ğŸ“·
     </div>
     <div class="photo-bg-item">
      ğŸ’‘
     </div>
     <div class="photo-bg-item">
      ğŸ¥°
     </div>
     <div class="photo-bg-item">
      ğŸ’
     </div>
     <div class="photo-bg-item">
      âœ¨
     </div>
     <div class="photo-bg-item">
      ğŸ’–
     </div>
    </div><!-- Content overlay -->
    <div class="success-content text-center max-w-3xl">
     <div class="text-8xl mb-6 pulse-heart">
      ğŸ’–
     </div>
     <h1 id="yes-response" class="font-script text-4xl md:text-6xl text-pink-600 mb-8 drop-shadow-lg">Yay! I Love You So Much! ğŸ’•</h1><!-- Big romantic paragraph -->
     <div class="bg-white bg-opacity-90 rounded-3xl p-8 mb-8 shadow-2xl backdrop-blur-sm">
      <p id="love-vow" class="text-pink-700 text-lg md:text-xl leading-relaxed font-serif">From this moment on, I promise to love you with all my heart for the rest of my life. Every single day, I will cherish you, support you, and stand by your side through every joy and every challenge. You are my greatest blessing, my truest love, and my forever home. I promise to be there for you always, to make you smile when you're down, to celebrate with you when you soar, and to hold your hand through it all. My love for you grows deeper with each passing moment, and I cannot wait to spend the rest of my life with you. You are everything to me, and I vow to love you completely, faithfully, and unconditionally for all the days of my life. ğŸ’• Forever yours âœ¨</p>
     </div>
     <p class="text-pink-700 text-xl md:text-2xl mb-8 drop-shadow-lg">You just made me the happiest person alive! ğŸ¥°</p>
     <div class="flex justify-center gap-4 text-6xl"><span class="floating-heart" style="animation-delay: 0s;">ğŸ’•</span> <span class="floating-heart" style="animation-delay: 0.3s;">ğŸ’–</span> <span class="floating-heart" style="animation-delay: 0.6s;">ğŸ’—</span> <span class="floating-heart" style="animation-delay: 0.9s;">ğŸ’</span> <span class="floating-heart" style="animation-delay: 1.2s;">ğŸ’˜</span>
     </div>
    </div><!-- Photo Gallery Below -->
    <div class="success-content mt-16 w-full">
     <h2 class="font-script text-3xl text-pink-600 text-center mb-8 drop-shadow-lg">Our Beautiful Moments Together ğŸ’•</h2>
     <div class="grid grid-cols-2 md:grid-cols-3 gap-4 max-w-4xl mx-auto"><!-- Photo 1 -->
      <div class="photo-frame rounded-2xl p-2 transform hover:scale-105 transition-transform duration-300 hover:rotate-2">
       <div class="aspect-square rounded-xl bg-gradient-to-br from-pink-200 to-pink-300 flex items-center justify-center overflow-hidden">
        <div class="text-center p-4"><span class="text-5xl mb-2 block">ğŸ“·</span>
         <img src="images/photo1.JPG" class="w-full h-full object-cover rounded-xl">
        </div>
       </div>
      </div><!-- Photo 2 -->
      <div class="photo-frame rounded-2xl p-2 transform hover:scale-105 transition-transform duration-300 hover:-rotate-2">
       <div class="aspect-square rounded-xl bg-gradient-to-br from-rose-200 to-rose-300 flex items-center justify-center overflow-hidden">
        <div class="text-center p-4"><span class="text-5xl mb-2 block">ğŸ’‘</span>
         <img src="photo2.JPG" class="w-full h-full object-cover rounded-xl">
        </div>
       </div>
      </div><!-- Photo 3 -->
      <div class="photo-frame rounded-2xl p-2 transform hover:scale-105 transition-transform duration-300 hover:rotate-1">
       <div class="aspect-square rounded-xl bg-gradient-to-br from-fuchsia-200 to-fuchsia-300 flex items-center justify-center overflow-hidden">
        <div class="text-center p-4"><span class="text-5xl mb-2 block">ğŸ¥°</span>
         <img src="photo3.jpg" class="w-full h-full object-cover rounded-xl">
        </div>
       </div>
      </div><!-- Photo 4 -->
      <div class="photo-frame rounded-2xl p-2 transform hover:scale-105 transition-transform duration-300 hover:-rotate-1">
       <div class="aspect-square rounded-xl bg-gradient-to-br from-pink-200 to-rose-300 flex items-center justify-center overflow-hidden">
        <div class="text-center p-4"><span class="text-5xl mb-2 block">ğŸ’</span>
         <img src="photo4.jpg" class="w-full h-full object-cover rounded-xl">
        </div>
       </div>
      </div><!-- Photo 5 -->
      <div class="photo-frame rounded-2xl p-2 transform hover:scale-105 transition-transform duration-300 hover:rotate-2">
       <div class="aspect-square rounded-xl bg-gradient-to-br from-rose-200 to-pink-300 flex items-center justify-center overflow-hidden">
        <div class="text-center p-4"><span class="text-5xl mb-2 block">âœ¨</span>
        <img src="photo5.jpg" class="w-full h-full object-cover rounded-xl">
        </div>
       </div>
      </div><!-- Photo 6 -->
      <div class="photo-frame rounded-2xl p-2 transform hover:scale-105 transition-transform duration-300 hover:-rotate-2">
       <div class="aspect-square rounded-xl bg-gradient-to-br from-fuchsia-200 to-pink-300 flex items-center justify-center overflow-hidden">
        <div class="text-center p-4"><span class="text-5xl mb-2 block">ğŸ’–</span>
         <video 
    src="video.mp4" 
    controls 
    class="w-full rounded-xl shadow-lg"
  ></video>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      main_question: "Will You Be My Valentine? ğŸ’",
      partner_name: "My Dearest Love",
      love_message: "Every moment with you feels like a beautiful dream. You make my heart skip a beat and my world complete. ğŸ’•",
      yes_response: "Yay! I Love You So Much! ğŸ’•",
      background_color: "#fce4ec",
      text_color: "#ec407a",
      button_color: "#ec407a",
      accent_color: "#f8bbd9",
      secondary_color: "#ffffff",
      font_family: "Playfair Display",
      font_size: 16
    };

    let config = { ...defaultConfig };
    const noBtn = document.getElementById('no-btn');
    const chaseMessage = document.getElementById('chase-message');
    let escapeCount = 0;

    function moveNoButtonAwayFromCursor(event) {
      const btnRect = noBtn.getBoundingClientRect();
      const btnCenterX = btnRect.left + btnRect.width / 2;
      const btnCenterY = btnRect.top + btnRect.height / 2;
      
      const cursorX = event.clientX || event.touches[0].clientX;
      const cursorY = event.clientY || event.touches[0].clientY;
      
      const distance = 150;
      const angle = Math.atan2(btnCenterY - cursorY, btnCenterX - cursorX);
      
      const newX = Math.max(20, Math.min(window.innerWidth - btnRect.width - 20, 
        cursorX + Math.cos(angle) * distance));
      const newY = Math.max(20, Math.min(window.innerHeight - btnRect.height - 20, 
        cursorY + Math.sin(angle) * distance));
      
      noBtn.style.left = newX + 'px';
      noBtn.style.top = newY + 'px';
      
      escapeCount++;
      
      if (escapeCount >= 2) {
        chaseMessage.style.opacity = '1';
      }
      
      if (escapeCount > 5) {
        noBtn.textContent = "Can't catch me! ğŸ˜œ";
      }
      if (escapeCount > 10) {
        noBtn.textContent = "Just say Yes! ğŸ’•";
      }
      if (escapeCount > 15) {
        noBtn.style.fontSize = '12px';
        noBtn.textContent = "ğŸƒğŸ’¨";
      }
    }

    // Track mouse movement for No button escape
    document.addEventListener('mousemove', (e) => {
      const btnRect = noBtn.getBoundingClientRect();
      const distX = e.clientX - (btnRect.left + btnRect.width / 2);
      const distY = e.clientY - (btnRect.top + btnRect.height / 2);
      const distance = Math.sqrt(distX * distX + distY * distY);
      
      if (distance < 150) {
        moveNoButtonAwayFromCursor(e);
      }
    });

    // Touch support
    noBtn.addEventListener('touchstart', (e) => {
      e.preventDefault();
      moveNoButtonAwayFromCursor(e);
    });

    // Initial position for No button
    noBtn.style.left = '60%';
    noBtn.style.top = '50%';
    noBtn.style.transform = 'translate(0, -50%)';

    // Yes button click
    const yesBtn = document.getElementById('yes-btn');
    const proposalScreen = document.getElementById('proposal-screen');
    const successScreen = document.getElementById('success-screen');

    yesBtn.addEventListener('click', () => {
      createConfetti();
      proposalScreen.classList.add('hidden');
      successScreen.classList.remove('hidden');
    });

    function createConfetti() {
      const colors = ['#ec407a', '#f48fb1', '#f8bbd9', '#ff4081', '#e91e63', '#ffeb3b', '#ff5722'];
      const shapes = ['â¤ï¸', 'ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'âœ¨', 'ğŸŒ¸', 'ğŸ’'];
      
      for (let i = 0; i < 50; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.className = 'confetti';
          confetti.style.left = Math.random() * 100 + '%';
          confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
          confetti.textContent = shapes[Math.floor(Math.random() * shapes.length)];
          confetti.style.fontSize = (Math.random() * 20 + 10) + 'px';
          confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
          document.body.appendChild(confetti);
          
          setTimeout(() => confetti.remove(), 4000);
        }, i * 50);
      }
    }

    // Element SDK integration
    async function onConfigChange(cfg) {
      document.getElementById('main-question').textContent = cfg.main_question || defaultConfig.main_question;
      document.getElementById('partner-name').textContent = cfg.partner_name || defaultConfig.partner_name;
      document.getElementById('love-message').textContent = cfg.love_message || defaultConfig.love_message;
      document.getElementById('yes-response').textContent = cfg.yes_response || defaultConfig.yes_response;
      
      const bgColor = cfg.background_color || defaultConfig.background_color;
      const accentColor = cfg.accent_color || defaultConfig.accent_color;
      const textColor = cfg.text_color || defaultConfig.text_color;
      const buttonColor = cfg.button_color || defaultConfig.button_color;
      const secondaryColor = cfg.secondary_color || defaultConfig.secondary_color;
      
      document.getElementById('main-container').style.background = `linear-gradient(135deg, ${bgColor} 0%, ${accentColor} 50%, ${buttonColor}40 100%)`;
      
      document.getElementById('main-question').style.color = textColor;
      document.getElementById('partner-name').style.color = textColor;
      document.getElementById('love-message').style.color = textColor;
      document.getElementById('yes-response').style.color = textColor;
      
      document.getElementById('yes-btn').style.background = `linear-gradient(to right, ${buttonColor}, ${textColor})`;
      
      const photoFrames = document.querySelectorAll('.photo-frame');
      photoFrames.forEach(frame => {
        frame.style.background = `linear-gradient(135deg, ${bgColor} 0%, ${accentColor} 100%)`;
        frame.style.borderColor = textColor;
      });
      
      const fontFamily = cfg.font_family || defaultConfig.font_family;
      const baseFontStack = 'Georgia, serif';
      document.body.style.fontFamily = `${fontFamily}, ${baseFontStack}`;
      
      const baseSize = cfg.font_size || defaultConfig.font_size;
      document.getElementById('main-question').style.fontSize = `${baseSize * 3}px`;
      document.getElementById('partner-name').style.fontSize = `${baseSize * 2}px`;
      document.getElementById('love-message').style.fontSize = `${baseSize * 1.25}px`;
    }

    function mapToCapabilities(cfg) {
      return {
        recolorables: [
          {
            get: () => cfg.background_color || defaultConfig.background_color,
            set: (value) => { cfg.background_color = value; window.elementSdk.setConfig({ background_color: value }); }
          },
          {
            get: () => cfg.accent_color || defaultConfig.accent_color,
            set: (value) => { cfg.accent_color = value; window.elementSdk.setConfig({ accent_color: value }); }
          },
          {
            get: () => cfg.text_color || defaultConfig.text_color,
            set: (value) => { cfg.text_color = value; window.elementSdk.setConfig({ text_color: value }); }
          },
          {
            get: () => cfg.button_color || defaultConfig.button_color,
            set: (value) => { cfg.button_color = value; window.elementSdk.setConfig({ button_color: value }); }
          },
          {
            get: () => cfg.secondary_color || defaultConfig.secondary_color,
            set: (value) => { cfg.secondary_color = value; window.elementSdk.setConfig({ secondary_color: value }); }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => cfg.font_family || defaultConfig.font_family,
          set: (value) => { cfg.font_family = value; window.elementSdk.setConfig({ font_family: value }); }
        },
        fontSizeable: {
          get: () => cfg.font_size || defaultConfig.font_size,
          set: (value) => { cfg.font_size = value; window.elementSdk.setConfig({ font_size: value }); }
        }
      };
    }

    function mapToEditPanelValues(cfg) {
      return new Map([
        ["main_question", cfg.main_question || defaultConfig.main_question],
        ["partner_name", cfg.partner_name || defaultConfig.partner_name],
        ["love_message", cfg.love_message || defaultConfig.love_message],
        ["yes_response", cfg.yes_response || defaultConfig.yes_response]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    } else {
      onConfigChange(defaultConfig);
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cc2ccdde1bb3a0b',t:'MTc3MDgwMTk0MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
